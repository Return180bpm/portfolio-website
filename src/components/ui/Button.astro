---
import { HTMLTag, Polymorphic } from 'astro/types'

type Props<Tag extends HTMLTag> = Polymorphic<{
	as: Tag
	size?: 'sm' | 'md' | 'lg'
	block?: boolean
	style?: 'primary'
	class?: string
	[x: string]: any
}>

const {
	as: Tag = 'button',
	size = 'md',
	style = 'primary',
	block,
	class: className,
	...rest
} = Astro.props

const sizes = {
	sm: 'px-4 py-1.5',
	md: 'px-5 py-2.5',
	lg: 'px-6 py-3'
}

const styles = {
	primary: 'bg-black text-light hover:bg-accent  border-2 border-transparent',
	outlined:
		'border border-black text-black hover:bg-accent focus:outline-none focus:ring-2 focus:ring-accent focus:ring-opacity-75'
}
---

<Tag
	{...rest}
	class:list={[
		'button inline-block rounded-sm px-5 py-3 text-center transition focus-visible:ring-2 ring-offset-2 ring-accent max-w-fit',
		block && 'w-full',
		sizes[size],
		styles[style],
		className
	]}
>
	<slot />
</Tag>
