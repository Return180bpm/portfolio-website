---
import ProjectCard from '@components/ui/ProjectCard.astro'
import { getCollection } from 'astro:content'
import { t } from 'i18next'

const projects = await getCollection('projects')
---

<section
	data-testid="projects"
	id="projects"
	class="mb-16 flex flex-col md:mb-16"
>
	<h2 class="spacing-heading-subheading text-3xl font-bold lg:text-4xl">
		{t('home.projects.heading')}
	</h2>
	<p class="spacing-heading-body text-lg font-light">
		The things that left a mark.
	</p>
	<div class="mb-10 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3">
		{
			// Array(6)
			// 	.fill(projects[0], 0)
			projects.map((project) => <ProjectCard {project} />)
		}
	</div>
	<!-- <a
		href="https://github.com/"
		target="_blank"
		rel="noopener"
		class="flex flex-row text-black hover:text-accent dark:text-light dark:hover:text-accent"
		aria-label="link to repository"
	>
		View full private projects archive
		<svg
			xmlns="http://www.w3.org/2000/svg"
			fill="none"
			viewBox="0 0 24 24"
			stroke-width="1.5"
			stroke="currentColor"
			class="ml-1 h-6 w-6"
		>
			<path
				stroke-linecap="round"
				stroke-linejoin="round"
				d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"></path>
		</svg>
	</a> -->
</section>
